(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{9344:function(e,r,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return o(8703)}])},8703:function(e,r,o){"use strict";o.r(r),o.d(r,{default:function(){return h}});var t=o(5893),_=o(7294),c=o(5007),i=o(9279),s=o(7536),l=o(1405),d=o(4663),n=o.n(d),a=e=>{let{record:r,onCancel:o}=e,{register:i,handleSubmit:d,reset:a,setValue:m}=(0,s.cI)(),u=(0,c.I0)();return(0,_.useEffect)(()=>{r?(m("title",r.title),m("description",r.description)):a()},[r,m,a]),(0,t.jsxs)("form",{onSubmit:d(e=>{r?u((0,l.Vs)({id:r.id,updatedData:e})):u((0,l.xK)({...e,id:Date.now()})),a(),o()}),className:n().recordForm,children:[(0,t.jsx)("div",{className:n().recordForm__field,children:(0,t.jsx)("input",{...i("title"),placeholder:"Название записи",className:n().recordForm__input})}),(0,t.jsx)("div",{className:n().recordForm__field,children:(0,t.jsx)("textarea",{...i("description"),placeholder:"Описание",className:n().recordForm__textarea,rows:"4"})}),(0,t.jsx)("button",{type:"submit",className:n().recordForm__submitButton,children:r?"Сохранить изменения":"Добавить запись"}),r&&(0,t.jsx)("button",{type:"button",className:n().recordForm__cancelButton,onClick:o,children:"Отмена"})]})},m=o(5361),u=o.n(m),p=()=>{let e=(0,c.v9)(e=>e.records),[r,o]=_.useState(null),i=e=>{o(e)};return(0,t.jsxs)("div",{children:[(0,t.jsx)(a,{record:r,onCancel:()=>{o(null)}}),e.map(e=>(0,t.jsxs)("div",{className:u().recordItem,children:[(0,t.jsx)("h2",{className:u().recordTitle,children:e.title}),(0,t.jsx)("p",{className:u().recordText,children:e.description}),(0,t.jsx)("button",{className:u().recordButton,onClick:()=>i(e),children:"Редактировать"})]},e.id))]})},f=o(2344),x=o.n(f),F=()=>{let e=(0,c.I0)(),r=(0,c.v9)(e=>e.user);return(0,_.useEffect)(()=>{let r=JSON.parse(sessionStorage.getItem("user"));r&&e((0,i.a)(r))},[e]),(0,t.jsxs)("div",{className:x().profile,children:[(0,t.jsx)("h1",{className:x().profile__title,children:"Личный кабинет"}),(0,t.jsxs)("p",{className:x().profile__name,children:["Имя: ",r.name]}),(0,t.jsxs)("p",{className:x().profile__email,children:["Email: ",r.email]}),(0,t.jsx)(p,{})]})},h=function(){return(0,t.jsx)(F,{})}},2344:function(e){e.exports={profile:"Profile_profile__a7HhL",profile__title:"Profile_profile__title__y2P5Q",profile__name:"Profile_profile__name__Vdvuu",profile__email:"Profile_profile__email__Lbfk5"}},4663:function(e){e.exports={recordForm:"RecordForm_recordForm__7ppNE",recordForm__field:"RecordForm_recordForm__field__HW5bh",recordForm__input:"RecordForm_recordForm__input__lFCdP",recordForm__textarea:"RecordForm_recordForm__textarea__XXQS2",recordForm__submitButton:"RecordForm_recordForm__submitButton__LHUSd",recordForm__cancelButton:"RecordForm_recordForm__cancelButton__tRNT9"}},5361:function(e){e.exports={recordItem:"RecordList_recordItem__Yfw1p",recordTitle:"RecordList_recordTitle__kTpsl",recordText:"RecordList_recordText__u0o_K",recordButton:"RecordList_recordButton__swxxk"}}},function(e){e.O(0,[536,888,774,179],function(){return e(e.s=9344)}),_N_E=e.O()}]);